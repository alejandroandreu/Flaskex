Step: build-step-credential-initializer:

{"level":"warn","ts":1549645090.989648,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1549645090.990118,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}
Step: build-step-git-source-0:

{"level":"warn","ts":1549645092.4529603,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/test\" is not a valid GitHub commit ID"}
{"level":"info","ts":1549645093.6917648,"logger":"fallback-logger","caller":"git-init/main.go:92","msg":"Successfully cloned \"https://github.com/alejandroandreu/jx-quickstart.git\" @ \"b9053685fb7070982328edf08e8934d7a011509d\" in path \"/workspace\""}
Step: build-step-jenkins:

Picked up _JAVA_OPTIONS: -Xmx400m
Started
Running in Durability level: PERFORMANCE_OPTIMIZED
  17.542 [id=29]	WARNING	i.f.k.c.i.VersionUsageUtils#alert: The client is using resource type 'customresourcedefinitions' with unstable version 'v1beta1'
[Pipeline] node
Running on Jenkins in /tmp/jenkinsTests.tmp/jenkins542447112476711189test/workspace/job
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
[Pipeline] }
[Pipeline] // stage
[Pipeline] withCredentials
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (CI Build and push snapshot)
Stage "CI Build and push snapshot" skipped due to when conditional
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build Release)
[Pipeline] git
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/alejandroandreu/jx-quickstart.git # timeout=10
Fetching upstream changes from https://github.com/alejandroandreu/jx-quickstart.git
 > git --version # timeout=10
 > git fetch --tags --progress https://github.com/alejandroandreu/jx-quickstart.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
Checking out Revision b9053685fb7070982328edf08e8934d7a011509d (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f b9053685fb7070982328edf08e8934d7a011509d
 > git branch -a -v --no-abbrev # timeout=10
 > git branch -D master # timeout=10
 > git checkout -b master b9053685fb7070982328edf08e8934d7a011509d
Commit message: "Merge pull request #1 from alejandroandreu/fix-ci"
First time build. Skipping changelog.
[Pipeline] sh
+ jx-release-version
+ echo 0.0.1
[Pipeline] sh
+ cat VERSION
+ jx step tag --version 0.0.1
Tag v0.0.1 created and pushed to remote origin
[Pipeline] sh
+ cat VERSION
+ docker build -t gcr.io/stone-bongo-229410/jx-quickstart:0.0.1 .
Sending build context to Docker daemon  240.1kB
Step 1/14 : FROM ruby:onbuild
onbuild: Pulling from library/ruby
f49cf87b52c1: Pulling fs layer
7b491c575b06: Pulling fs layer
b313b08bab3b: Pulling fs layer
51d6678c3f0e: Pulling fs layer
b7e583189d20: Pulling fs layer
be5e68b07537: Pulling fs layer
907309e0b355: Pulling fs layer
7e6c388078bc: Pulling fs layer
719369f99cd9: Pulling fs layer
51d6678c3f0e: Waiting
b7e583189d20: Waiting
be5e68b07537: Waiting
907309e0b355: Waiting
7e6c388078bc: Waiting
719369f99cd9: Waiting
b313b08bab3b: Verifying Checksum
b313b08bab3b: Download complete
7b491c575b06: Verifying Checksum
7b491c575b06: Download complete
b7e583189d20: Verifying Checksum
b7e583189d20: Download complete
be5e68b07537: Verifying Checksum
be5e68b07537: Download complete
907309e0b355: Verifying Checksum
907309e0b355: Download complete
51d6678c3f0e: Verifying Checksum
51d6678c3f0e: Download complete
7e6c388078bc: Verifying Checksum
7e6c388078bc: Download complete
719369f99cd9: Verifying Checksum
719369f99cd9: Download complete
f49cf87b52c1: Verifying Checksum
f49cf87b52c1: Download complete
f49cf87b52c1: Pull complete
7b491c575b06: Pull complete
b313b08bab3b: Pull complete
51d6678c3f0e: Pull complete
b7e583189d20: Pull complete
be5e68b07537: Pull complete
907309e0b355: Pull complete
7e6c388078bc: Pull complete
719369f99cd9: Pull complete
Digest: sha256:476194d5c6a36a0409d6e8a3d28c183d1c4d6bf374cd8a814933ee0725e2a3c0
Status: Downloaded newer image for ruby:onbuild
[91m# Executing 4 build triggers...
[0mStep 1/1 : COPY Gemfile /usr/src/app/
Step 1/1 : COPY Gemfile.lock /usr/src/app/
Step 1/1 : RUN bundle install
 ---> Running in da3b0ad2c109
Fetching gem metadata from https://rubygems.org/.........
Fetching rake 12.3.1
Installing rake 12.3.1
Fetching concurrent-ruby 1.0.5
Installing concurrent-ruby 1.0.5
Fetching i18n 1.0.1
Installing i18n 1.0.1
Fetching minitest 5.11.3
Installing minitest 5.11.3
Fetching thread_safe 0.3.6
Installing thread_safe 0.3.6
Fetching tzinfo 1.2.5
Installing tzinfo 1.2.5
Fetching activesupport 5.0.7
Installing activesupport 5.0.7
Fetching builder 3.2.3
Installing builder 3.2.3
Fetching erubis 2.7.0
Installing erubis 2.7.0
Fetching mini_portile2 2.3.0
Installing mini_portile2 2.3.0
Fetching nokogiri 1.8.2
Installing nokogiri 1.8.2 with native extensions
Fetching rails-dom-testing 2.0.3
Installing rails-dom-testing 2.0.3
Fetching crass 1.0.4
Installing crass 1.0.4
Fetching loofah 2.2.2
Installing loofah 2.2.2
Fetching rails-html-sanitizer 1.0.4
Installing rails-html-sanitizer 1.0.4
Fetching actionview 5.0.7
Installing actionview 5.0.7
Fetching rack 2.0.5
Installing rack 2.0.5
Fetching rack-test 0.6.3
Installing rack-test 0.6.3
Fetching actionpack 5.0.7
Installing actionpack 5.0.7
Fetching nio4r 2.3.1
Installing nio4r 2.3.1 with native extensions
Fetching websocket-extensions 0.1.3
Installing websocket-extensions 0.1.3
Fetching websocket-driver 0.6.5
Installing websocket-driver 0.6.5 with native extensions
Fetching actioncable 5.0.7
Installing actioncable 5.0.7
Fetching globalid 0.4.1
Installing globalid 0.4.1
Fetching activejob 5.0.7
Installing activejob 5.0.7
Fetching mini_mime 1.0.0
Installing mini_mime 1.0.0
Fetching mail 2.7.0
Installing mail 2.7.0
Fetching actionmailer 5.0.7
Installing actionmailer 5.0.7
Fetching activemodel 5.0.7
Installing activemodel 5.0.7
Fetching arel 7.1.4
Installing arel 7.1.4
Fetching activerecord 5.0.7
Installing activerecord 5.0.7
Fetching bindex 0.5.0
Installing bindex 0.5.0 with native extensions
Using bundler 1.16.1
Fetching byebug 10.0.2
Installing byebug 10.0.2 with native extensions
Fetching coffee-script-source 1.12.2
Installing coffee-script-source 1.12.2
Fetching execjs 2.7.0
Installing execjs 2.7.0
Fetching coffee-script 2.4.1
Installing coffee-script 2.4.1
Fetching method_source 0.9.0
Installing method_source 0.9.0
Fetching thor 0.20.0
Installing thor 0.20.0
Fetching railties 5.0.7
Installing railties 5.0.7
Fetching coffee-rails 4.2.2
Installing coffee-rails 4.2.2
Fetching ffi 1.9.23
Installing ffi 1.9.23 with native extensions
Fetching multi_json 1.13.1
Installing multi_json 1.13.1
Fetching jbuilder 2.7.0
Installing jbuilder 2.7.0
Fetching jquery-rails 4.3.3
Installing jquery-rails 4.3.3
Fetching rb-fsevent 0.10.3
Installing rb-fsevent 0.10.3
Fetching rb-inotify 0.9.10
Installing rb-inotify 0.9.10
Fetching listen 3.0.8
Installing listen 3.0.8
Fetching puma 3.11.4
Installing puma 3.11.4 with native extensions
Fetching sprockets 3.7.1
Installing sprockets 3.7.1
Fetching sprockets-rails 3.2.1
Installing sprockets-rails 3.2.1
Fetching rails 5.0.7
Installing rails 5.0.7
Fetching sass-listen 4.0.0
Installing sass-listen 4.0.0
Fetching sass 3.5.6
Installing sass 3.5.6
Fetching tilt 2.0.8
Installing tilt 2.0.8
Fetching sass-rails 5.0.7
Installing sass-rails 5.0.7
Fetching spring 2.0.2
Installing spring 2.0.2
Fetching spring-watcher-listen 2.0.1
Installing spring-watcher-listen 2.0.1
Fetching sqlite3 1.3.13
Installing sqlite3 1.3.13 with native extensions
Fetching turbolinks-source 5.1.0
Installing turbolinks-source 5.1.0
Fetching turbolinks 5.1.1
Installing turbolinks 5.1.1
Fetching uglifier 4.1.10
Installing uglifier 4.1.10
Fetching web-console 3.6.2
Installing web-console 3.6.2
Bundle complete! 15 Gemfile dependencies, 63 gems now installed.
Bundled gems are installed into `/usr/local/bundle`
Step 1/1 : COPY . /usr/src/app
 ---> 4c465ad73c8a
Removing intermediate container f0d445562a88
Removing intermediate container 36f5f70a38d6
Removing intermediate container da3b0ad2c109
Removing intermediate container aadd9575cca7
Step 2/14 : ENV PORT 3000
 ---> Running in 8889b1b7c6a8
 ---> 1ef0020d03cb
Removing intermediate container 8889b1b7c6a8
Step 3/14 : EXPOSE 3000
 ---> Running in 9dba4004359b
 ---> db873f913bbc
Removing intermediate container 9dba4004359b
Step 4/14 : RUN mkdir -p /usr/src/app
 ---> Running in 8e7295bd5827
 ---> a1f5e4e5878b
Removing intermediate container 8e7295bd5827
Step 5/14 : WORKDIR /usr/src/app
 ---> d1d27b136932
Removing intermediate container 0d65eab89db6
Step 6/14 : RUN apt-get update &&     apt-get install -y nodejs mysql-client postgresql-client sqlite3 vim --no-install-recommends &&     rm -rf /var/lib/apt/lists/*
 ---> Running in 9cc08cecd237
Ign http://deb.debian.org jessie InRelease
Get:1 http://deb.debian.org jessie-updates InRelease [145 kB]
Get:2 http://security.debian.org jessie/updates InRelease [44.9 kB]
Get:3 http://deb.debian.org jessie Release.gpg [2420 B]
Get:4 http://deb.debian.org jessie Release [148 kB]
Get:5 http://deb.debian.org jessie-updates/main amd64 Packages [23.0 kB]
Get:6 http://deb.debian.org jessie/main amd64 Packages [9098 kB]
Get:7 http://security.debian.org jessie/updates/main amd64 Packages [802 kB]
Fetched 10.3 MB in 8s (1236 kB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
The following extra packages will be installed:
  libc-ares2 libdbd-mysql-perl libdbi-perl libgpm2 libpq-dev libpq5
  libsqlite3-0 libsqlite3-dev libterm-readkey-perl libv8-3.14.5
  mysql-client-5.5 mysql-common postgresql-client-9.4 postgresql-client-common
  vim-common vim-runtime
Suggested packages:
  libclone-perl libmldbm-perl libnet-daemon-perl libsql-statement-perl gpm
  postgresql-doc-9.4 sqlite3-doc postgresql-9.4 ctags vim-doc vim-scripts
Recommended packages:
  lsb-release
The following NEW packages will be installed:
  libc-ares2 libdbd-mysql-perl libdbi-perl libgpm2 libterm-readkey-perl
  libv8-3.14.5 mysql-client mysql-client-5.5 nodejs postgresql-client
  postgresql-client-9.4 postgresql-client-common sqlite3 vim vim-common
  vim-runtime
The following packages will be upgraded:
  libpq-dev libpq5 libsqlite3-0 libsqlite3-dev mysql-common
5 upgraded, 16 newly installed, 0 to remove and 120 not upgraded.
Need to get 13.7 MB of archives.
After this operation, 81.5 MB of additional disk space will be used.
Get:1 http://deb.debian.org/debian/ jessie/main libgpm2 amd64 1.20.4-6.1+b2 [34.0 kB]
Get:2 http://deb.debian.org/debian/ jessie/main libc-ares2 amd64 1.10.0-2+deb8u2 [72.5 kB]
Get:3 http://security.debian.org/ jessie/updates/main libsqlite3-dev amd64 3.8.7.1-1+deb8u4 [538 kB]
Get:4 http://deb.debian.org/debian/ jessie/main vim-common amd64 2:7.4.488-7+deb8u3 [185 kB]
Get:5 http://deb.debian.org/debian/ jessie/main libdbi-perl amd64 1.631-3+b1 [816 kB]
Get:6 http://security.debian.org/ jessie/updates/main libsqlite3-0 amd64 3.8.7.1-1+deb8u4 [439 kB]
Get:7 http://security.debian.org/ jessie/updates/main libpq-dev amd64 9.4.20-0+deb8u1 [168 kB]
Get:8 http://deb.debian.org/debian/ jessie/main libdbd-mysql-perl amd64 4.028-2+deb8u2 [119 kB]
Get:9 http://deb.debian.org/debian/ jessie/main libterm-readkey-perl amd64 2.32-1+b1 [28.0 kB]
Get:10 http://security.debian.org/ jessie/updates/main libpq5 amd64 9.4.20-0+deb8u1 [128 kB]
Get:11 http://deb.debian.org/debian/ jessie/main libv8-3.14.5 amd64 3.14.5.8-8.1 [1269 kB]
Get:12 http://security.debian.org/ jessie/updates/main mysql-common all 5.5.62-0+deb8u1 [75.7 kB]
Get:13 http://security.debian.org/ jessie/updates/main mysql-client-5.5 amd64 5.5.62-0+deb8u1 [1822 kB]
Get:14 http://deb.debian.org/debian/ jessie/main postgresql-client-common all 165+deb8u3 [73.8 kB]
Get:15 http://deb.debian.org/debian/ jessie/main postgresql-client all 9.4+165+deb8u3 [52.4 kB]
Get:16 http://deb.debian.org/debian/ jessie/main vim-runtime all 2:7.4.488-7+deb8u3 [5048 kB]
Get:17 http://security.debian.org/ jessie/updates/main mysql-client all 5.5.62-0+deb8u1 [73.8 kB]
Get:18 http://security.debian.org/ jessie/updates/main postgresql-client-9.4 amd64 9.4.20-0+deb8u1 [1100 kB]
Get:19 http://security.debian.org/ jessie/updates/main sqlite3 amd64 3.8.7.1-1+deb8u4 [102 kB]
Get:20 http://deb.debian.org/debian/ jessie/main vim amd64 2:7.4.488-7+deb8u3 [953 kB]
Get:21 http://deb.debian.org/debian/ jessie/main nodejs amd64 0.10.29~dfsg-2 [648 kB]
[91mdebconf: delaying package configuration, since apt-utils is not installed
[0mFetched 13.7 MB in 2s (6164 kB/s)
Selecting previously unselected package libgpm2:amd64.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 21202 files and directories currently installed.)
Preparing to unpack .../libgpm2_1.20.4-6.1+b2_amd64.deb ...
Unpacking libgpm2:amd64 (1.20.4-6.1+b2) ...
Preparing to unpack .../libsqlite3-dev_3.8.7.1-1+deb8u4_amd64.deb ...
Unpacking libsqlite3-dev:amd64 (3.8.7.1-1+deb8u4) over (3.8.7.1-1+deb8u2) ...
Preparing to unpack .../libsqlite3-0_3.8.7.1-1+deb8u4_amd64.deb ...
Unpacking libsqlite3-0:amd64 (3.8.7.1-1+deb8u4) over (3.8.7.1-1+deb8u2) ...
Preparing to unpack .../libpq-dev_9.4.20-0+deb8u1_amd64.deb ...
Unpacking libpq-dev (9.4.20-0+deb8u1) over (9.4.15-0+deb8u1) ...
Preparing to unpack .../libpq5_9.4.20-0+deb8u1_amd64.deb ...
Unpacking libpq5:amd64 (9.4.20-0+deb8u1) over (9.4.15-0+deb8u1) ...
Selecting previously unselected package libc-ares2:amd64.
Preparing to unpack .../libc-ares2_1.10.0-2+deb8u2_amd64.deb ...
Unpacking libc-ares2:amd64 (1.10.0-2+deb8u2) ...
Selecting previously unselected package vim-common.
Preparing to unpack .../vim-common_2%3a7.4.488-7+deb8u3_amd64.deb ...
Unpacking vim-common (2:7.4.488-7+deb8u3) ...
Selecting previously unselected package libdbi-perl.
Preparing to unpack .../libdbi-perl_1.631-3+b1_amd64.deb ...
Unpacking libdbi-perl (1.631-3+b1) ...
Selecting previously unselected package libdbd-mysql-perl.
Preparing to unpack .../libdbd-mysql-perl_4.028-2+deb8u2_amd64.deb ...
Unpacking libdbd-mysql-perl (4.028-2+deb8u2) ...
Selecting previously unselected package libterm-readkey-perl.
Preparing to unpack .../libterm-readkey-perl_2.32-1+b1_amd64.deb ...
Unpacking libterm-readkey-perl (2.32-1+b1) ...
Selecting previously unselected package libv8-3.14.5.
Preparing to unpack .../libv8-3.14.5_3.14.5.8-8.1_amd64.deb ...
Unpacking libv8-3.14.5 (3.14.5.8-8.1) ...
Preparing to unpack .../mysql-common_5.5.62-0+deb8u1_all.deb ...
Unpacking mysql-common (5.5.62-0+deb8u1) over (5.5.58-0+deb8u1) ...
Selecting previously unselected package mysql-client-5.5.
Preparing to unpack .../mysql-client-5.5_5.5.62-0+deb8u1_amd64.deb ...
Unpacking mysql-client-5.5 (5.5.62-0+deb8u1) ...
Selecting previously unselected package mysql-client.
Preparing to unpack .../mysql-client_5.5.62-0+deb8u1_all.deb ...
Unpacking mysql-client (5.5.62-0+deb8u1) ...
Selecting previously unselected package postgresql-client-common.
Preparing to unpack .../postgresql-client-common_165+deb8u3_all.deb ...
Unpacking postgresql-client-common (165+deb8u3) ...
Selecting previously unselected package postgresql-client-9.4.
Preparing to unpack .../postgresql-client-9.4_9.4.20-0+deb8u1_amd64.deb ...
Unpacking postgresql-client-9.4 (9.4.20-0+deb8u1) ...
Selecting previously unselected package postgresql-client.
Preparing to unpack .../postgresql-client_9.4+165+deb8u3_all.deb ...
Unpacking postgresql-client (9.4+165+deb8u3) ...
Selecting previously unselected package sqlite3.
Preparing to unpack .../sqlite3_3.8.7.1-1+deb8u4_amd64.deb ...
Unpacking sqlite3 (3.8.7.1-1+deb8u4) ...
Selecting previously unselected package vim-runtime.
Preparing to unpack .../vim-runtime_2%3a7.4.488-7+deb8u3_all.deb ...
Adding 'diversion of /usr/share/vim/vim74/doc/help.txt to /usr/share/vim/vim74/doc/help.txt.vim-tiny by vim-runtime'
Adding 'diversion of /usr/share/vim/vim74/doc/tags to /usr/share/vim/vim74/doc/tags.vim-tiny by vim-runtime'
Unpacking vim-runtime (2:7.4.488-7+deb8u3) ...
Selecting previously unselected package vim.
Preparing to unpack .../vim_2%3a7.4.488-7+deb8u3_amd64.deb ...
Unpacking vim (2:7.4.488-7+deb8u3) ...
Selecting previously unselected package nodejs.
Preparing to unpack .../nodejs_0.10.29~dfsg-2_amd64.deb ...
Unpacking nodejs (0.10.29~dfsg-2) ...
Processing triggers for mime-support (3.58) ...
Processing triggers for hicolor-icon-theme (0.13-1) ...
Setting up libgpm2:amd64 (1.20.4-6.1+b2) ...
Setting up libsqlite3-0:amd64 (3.8.7.1-1+deb8u4) ...
Setting up libsqlite3-dev:amd64 (3.8.7.1-1+deb8u4) ...
Setting up libpq5:amd64 (9.4.20-0+deb8u1) ...
Setting up libpq-dev (9.4.20-0+deb8u1) ...
Setting up libc-ares2:amd64 (1.10.0-2+deb8u2) ...
Setting up vim-common (2:7.4.488-7+deb8u3) ...
Setting up libdbi-perl (1.631-3+b1) ...
Setting up libdbd-mysql-perl (4.028-2+deb8u2) ...
Setting up libterm-readkey-perl (2.32-1+b1) ...
Setting up libv8-3.14.5 (3.14.5.8-8.1) ...
Setting up mysql-common (5.5.62-0+deb8u1) ...
Setting up mysql-client-5.5 (5.5.62-0+deb8u1) ...
Setting up mysql-client (5.5.62-0+deb8u1) ...
Setting up postgresql-client-common (165+deb8u3) ...
Setting up postgresql-client-9.4 (9.4.20-0+deb8u1) ...
update-alternatives: using /usr/share/postgresql/9.4/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode
Setting up postgresql-client (9.4+165+deb8u3) ...
Setting up sqlite3 (3.8.7.1-1+deb8u4) ...
Setting up vim-runtime (2:7.4.488-7+deb8u3) ...
Processing /usr/share/vim/addons/doc
Setting up vim (2:7.4.488-7+deb8u3) ...
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/editor (editor) in auto mode
Setting up nodejs (0.10.29~dfsg-2) ...
update-alternatives: using /usr/bin/nodejs to provide /usr/bin/js (js) in auto mode
Processing triggers for libc-bin (2.19-18+deb8u10) ...
 ---> c8c21aa013b4
Removing intermediate container 9cc08cecd237
Step 7/14 : ENV RAILS_ENV development
 ---> Running in d897bca42b4c
 ---> 6c67c4414be5
Removing intermediate container d897bca42b4c
Step 8/14 : ENV RAILS_LOG_TO_STDOUT true
 ---> Running in 1c5fae9079df
 ---> 751459bf78f3
Removing intermediate container 1c5fae9079df
Step 9/14 : COPY Gemfile /usr/src/app/
 ---> 7496d071c291
Removing intermediate container 6b215f489f51
Step 10/14 : COPY Gemfile.lock /usr/src/app/
 ---> bebeb24b7b12
Removing intermediate container 330f7cdffa43
Step 11/14 : RUN bundle config --global frozen 1
 ---> Running in 9d4ef96444fe
Your application has set frozen to "true". This will override the global value you are currently setting
 ---> 921985dc4af6
Removing intermediate container 9d4ef96444fe
Step 12/14 : RUN bundle install --without test
 ---> Running in 2077085618f7
Using rake 12.3.1
Using concurrent-ruby 1.0.5
Using i18n 1.0.1
Using minitest 5.11.3
Using thread_safe 0.3.6
Using tzinfo 1.2.5
Using activesupport 5.0.7
Using builder 3.2.3
Using erubis 2.7.0
Using mini_portile2 2.3.0
Using nokogiri 1.8.2
Using rails-dom-testing 2.0.3
Using crass 1.0.4
Using loofah 2.2.2
Using rails-html-sanitizer 1.0.4
Using actionview 5.0.7
Using rack 2.0.5
Using rack-test 0.6.3
Using actionpack 5.0.7
Using nio4r 2.3.1
Using websocket-extensions 0.1.3
Using websocket-driver 0.6.5
Using actioncable 5.0.7
Using globalid 0.4.1
Using activejob 5.0.7
Using mini_mime 1.0.0
Using mail 2.7.0
Using actionmailer 5.0.7
Using activemodel 5.0.7
Using arel 7.1.4
Using activerecord 5.0.7
Using bindex 0.5.0
Using bundler 1.16.1
Using byebug 10.0.2
Using coffee-script-source 1.12.2
Using execjs 2.7.0
Using coffee-script 2.4.1
Using method_source 0.9.0
Using thor 0.20.0
Using railties 5.0.7
Using coffee-rails 4.2.2
Using ffi 1.9.23
Using multi_json 1.13.1
Using jbuilder 2.7.0
Using jquery-rails 4.3.3
Using rb-fsevent 0.10.3
Using rb-inotify 0.9.10
Using listen 3.0.8
Using puma 3.11.4
Using sprockets 3.7.1
Using sprockets-rails 3.2.1
Using rails 5.0.7
Using sass-listen 4.0.0
Using sass 3.5.6
Using tilt 2.0.8
Using sass-rails 5.0.7
Using spring 2.0.2
Using spring-watcher-listen 2.0.1
Using sqlite3 1.3.13
Using turbolinks-source 5.1.0
Using turbolinks 5.1.1
Using uglifier 4.1.10
Using web-console 3.6.2
Bundle complete! 15 Gemfile dependencies, 63 gems now installed.
Gems in the group test were not installed.
Bundled gems are installed into `/usr/local/bundle`
 ---> fa5ad8bba670
Removing intermediate container 2077085618f7
Step 13/14 : COPY . /usr/src/app
 ---> 0290f4f782b8
Removing intermediate container a191924ad55f
Step 14/14 : CMD rails server -b 0.0.0.0
 ---> Running in a93b8c1baffa
 ---> b22bc541b9b6
Removing intermediate container a93b8c1baffa
Successfully built b22bc541b9b6
[Pipeline] sh
+ cat VERSION
+ docker push gcr.io/stone-bongo-229410/jx-quickstart:0.0.1
The push refers to a repository [gcr.io/stone-bongo-229410/jx-quickstart]
ed68346b11f4: Preparing
d7c4b7793f61: Preparing
ec757603fbc8: Preparing
8c3e0b2e6e75: Preparing
232f8a94a86f: Preparing
b490c31a6ef3: Preparing
f25bf5156b9a: Preparing
1f8db560c68f: Preparing
36ba24c2bcfe: Preparing
788ba1278964: Preparing
b490c31a6ef3: Waiting
f25bf5156b9a: Waiting
1f8db560c68f: Waiting
36ba24c2bcfe: Waiting
26500f4bd616: Preparing
88a623ab0257: Preparing
473e0f79070a: Preparing
b87249e9043a: Preparing
788ba1278964: Waiting
26500f4bd616: Waiting
88a623ab0257: Waiting
473e0f79070a: Waiting
8fe6d5dcea45: Preparing
06b8d020c11b: Preparing
b9914afd042f: Preparing
4bcdffd70da2: Preparing
b87249e9043a: Waiting
8fe6d5dcea45: Waiting
06b8d020c11b: Waiting
b9914afd042f: Waiting
4bcdffd70da2: Waiting
ec757603fbc8: Pushed
ed68346b11f4: Pushed
8c3e0b2e6e75: Pushed
d7c4b7793f61: Pushed
b490c31a6ef3: Pushed
1f8db560c68f: Pushed
36ba24c2bcfe: Pushed
232f8a94a86f: Pushed
473e0f79070a: Layer already exists
788ba1278964: Pushed
26500f4bd616: Pushed
8fe6d5dcea45: Layer already exists
06b8d020c11b: Layer already exists
b9914afd042f: Layer already exists
4bcdffd70da2: Layer already exists
88a623ab0257: Pushed
b87249e9043a: Pushed
f25bf5156b9a: Pushed
0.0.1: digest: sha256:a87337b60173a28b8231898b33e6c9b751fc97bef3de182599721955bc0a1029 size: 4089
[Pipeline] sh
+ cat VERSION
+ jx step post build --image gcr.io/stone-bongo-229410/jx-quickstart:0.0.1
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Promote to Environments)
[Pipeline] dir
Running in /tmp/jenkinsTests.tmp/jenkins542447112476711189test/workspace/job/charts/jx-quickstart
[Pipeline] {
[Pipeline] sh
+ cat ../../VERSION
+ jx step changelog --version v0.0.1
Using batch mode as inside a pipeline
Converted /tmp/jenkinsTests.tmp/jenkins542447112476711189test/workspace/job/charts/jx-quickstart to an unshallow repository
Generating change log from git ref b9053685fb7070982328edf08e8934d7a011509d => 2715bc55cbb43d8e8b9b5a982f0c7a623f1e7b55
Failed to enrich commits with issues: User.jenkins.io "" is invalid: metadata.name: Required value: name or generateName is required
Failed to enrich commits with issues: User.jenkins.io "" is invalid: metadata.name: Required value: name or generateName is required
Finding issues in commit messages using git format
No release found for alejandroandreu/jx-quickstart and tag v0.0.1 so creating a new release
Updated the release information at https://github.com/alejandroandreu/jx-quickstart/releases/tag/v0.0.1
generated: /tmp/jenkinsTests.tmp/jenkins542447112476711189test/workspace/job/charts/jx-quickstart/templates/release.yaml
Created Release jx-quickstart-0-0-1 resource in namespace jx
Updating PipelineActivity alejandroandreu-jx-quickstart-master-2 with version 0.0.1
Updated PipelineActivities alejandroandreu-jx-quickstart-master-2 with release notes URL: https://github.com/alejandroandreu/jx-quickstart/releases/tag/v0.0.1
[Pipeline] sh
+ jx step helm release
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: jenkins-x http://chartmuseum.jenkins-x.io
Successfully added Helm repository jenkins-x.
Adding missing Helm repo: releases http://jenkins-x-chartmuseum:8080
Successfully added Helm repository releases.
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file jx-quickstart-0.0.1.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}
[Pipeline] sh
+ cat ../../VERSION
+ jx promote -b --all-auto --timeout 1h --version 0.0.1
prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/jx/issues/2410
Promoting app jx-quickstart version 0.0.1 to namespace jx-staging
Created Pull Request: https://github.com/midokura-bot/environment-jx-cluster-staging/pull/1

Pull Request https://github.com/midokura-bot/environment-jx-cluster-staging/pull/1 is merged at sha de24db6d053d7e4e763d20658880be7aa0b4cf33
Pull Request merged but we are not waiting for the update pipeline to complete!
Could not find the service URL in namespace jx-staging for names jx-quickstart, jx-jx-quickstart, jx-staging-jx-quickstart
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
